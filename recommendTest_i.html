<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-MJ9DFS4');</script>
    <!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"
        integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="main.js"></script>
    <script src="scriptAPP.js"></script>
    <title>Anthropomorphization Test Part2</title>
</head>

<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MJ9DFS4" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <div class="container">
        <div class="questionArea">
            <!-- <div class="textTitle"></div> -->
            <div class="pictureArea"></div>
            <!-- <div class="pictureArea">
               
                <img src="pictures/main1.png" class="mainPicture" alt=""> 
             
            </div> -->
        </div>
        <div class="answerArea">
            <!-- <button class="btn btn-success btnYes" name="btnYes" onclick="sayYes()">Yes</button>
            <button class="btn btn-danger btnNo" name="btnYes" onclick="sayNo()">No</button> -->
            <div class="buyText1">非常不想購買</div>
            <button class="btn btn-primary btn1" onclick="say1(1)">1</button>
            <button class="btn btn-primary btn2" onclick="say1(2)">2</button>
            <button class="btn btn-primary btn3" onclick="say1(3)">3</button>
            <button class="btn btn-primary btn4" onclick="say1(4)">4</button>
            <button class="btn btn-primary btn5" onclick="say1(5)">5</button>
            <button class="btn btn-primary btn6" onclick="say1(6)">6</button>
            <div class="buyText2">非常想購買</div>
            <div class="clear"></div>
        </div>
    </div>
</body>

<script>
    window.onload = function () {
        window.document.documentElement.scrollTop = 800;
    }

    var recommendList = []
    var sport = false;
    var life = false;
    var food = false;
    var home = false;
    var computer = false;
    var accessory = false;


    var questionsNum;
    var picturesList = getRandomList(questionsNum);
    var questionsCount = 0;
    var yesCount = 0, noCount = 0;
    var btn1Count = 0, btn2Count = 0, btn3Count = 0, btn4Count = 0, btn5Count = 0, btn6Count = 0;
    // 載入時呼叫function start1()
    window.onload = function () {
        start1();
    };

    // 從勾選的類別中任意挑選項目進 recommendList
    function start1() {
        var falseRecommendList = []
        var falseRecommendListMax = []
        sport = getUrlParameter('sport');
        life = getUrlParameter('life');
        food = getUrlParameter('food');
        home = getUrlParameter('home');
        computer = getUrlParameter('computer');
        accessory = getUrlParameter('accessory');

        if (sport == 'true') {
            recommendList.push('pic_only/sport/' + (getRandom(maxSport) + 1));
        }
        else {
            falseRecommendList.push('sport')
            falseRecommendListMax.push(maxSport);
        }

        if (life == 'true') {
            recommendList.push('pic_only/life/' + (getRandom(maxLife) + 1));
        }
        else {
            falseRecommendList.push('life')
            falseRecommendListMax.push(maxLife);
        }

        if (food == 'true') {
            recommendList.push('pic_only/food/' + (getRandom(maxFood) + 1));
        }
        else {
            falseRecommendList.push('food')
            falseRecommendListMax.push(maxFood);
        }

        if (home == 'true') {
            recommendList.push('pic_only/home/' + (getRandom(maxHome) + 1));
        }
        else {
            falseRecommendList.push('home')
            falseRecommendListMax.push(maxHome);
        }

        if (computer == 'true') {
            recommendList.push('pic_only/computer/' + (getRandom(maxComputer) + 1));
        }
        else {
            falseRecommendList.push('computer')
            falseRecommendListMax.push(maxComputer);
        }

        if (accessory == 'true') {
            recommendList.push('pic_only/accessory/' + (getRandom(maxAccessory) + 1));
        }
        else {
            falseRecommendList.push('accessory')
            falseRecommendListMax.push(maxAccessory);
        }

        // 只會推薦三項商品
        var i = 0
        while (i < 3) {
            var nowPushNum = getRandom(falseRecommendList.length);
            var pushString = falseRecommendList[nowPushNum] + '/' + falseRecommendList[nowPushNum] + (getRandom(falseRecommendListMax[nowPushNum]) + 1);
            var checkRepeat = 0;
            for (var j = 0; j < recommendList.length; j++) {
                if (recommendList[j] == pushString) {
                    checkRepeat = 1;
                }
            }

            if (checkRepeat != 1) {
                recommendList.push(pushString);
                i++;
            }


        }


        // 問題之回答有 1~6 , 1為不喜歡 6為很喜歡
        // Question Aera
        questionsNum = 6;
        $(".buyText1").show(); $(".buyText2").show(); $(".btn1").show(); $(".btn2").show(); $(".btn3").show(); $(".btn4").show(); $(".btn5").show(); $(".btn6").show();
        var mainPicture = document.querySelector('.pictureArea');
        //mainPicture.innerHTML = '<div class="interactive">根據剛剛和小艾的互動，您覺得小艾有多像真人？</div>';
        mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？(,,・ω・,,) </div>  <div class="productPic"><img src="pic_only/computer/4.png" alt=""></div>  </div>';
    }

    // 按下數字1~6 呼叫 function say1()
    // 抓受測者每次回答的 png 跟 ans (小i)
    // 存到localStorage

    function say1(x) {
        questionsCount++;

        var ask = '非推薦題'
        if ((questionsCount - 2) >= 0) {
            ask = recommendList[questionsCount - 2] + '.png'
        }

        switch (x) {
            case 1:
                btn1Count++;
                localStorage.setItem('iPng' + String(questionsCount), ask);
                localStorage.setItem('iAns' + String(questionsCount), '1');
                break;

            case 2:
                btn2Count++;
                localStorage.setItem('iPng' + String(questionsCount), ask);
                localStorage.setItem('iAns' + String(questionsCount), '2');
                break;

            case 3:
                btn3Count++;
                localStorage.setItem('iPng' + String(questionsCount), ask);
                localStorage.setItem('iAns' + String(questionsCount), '3');
                break;

            case 4:
                btn4Count++;
                localStorage.setItem('iPng' + String(questionsCount), ask);
                localStorage.setItem('iAns' + String(questionsCount), '4');
                break;

            case 5:
                btn5Count++;
                localStorage.setItem('iPng' + String(questionsCount), ask);
                localStorage.setItem('iAns' + String(questionsCount), '5');
                break;

            case 6:
                btn6Count++;
                localStorage.setItem('iPng' + String(questionsCount), ask);
                localStorage.setItem('iAns' + String(questionsCount), '6');
                break;
        }



        // 6 題之後連到recommendTest_ai.html

        // document.querySelector('.textTitle').innerHTML = '我依據您的喜好，我推薦給您以下商品';
        document.querySelector('.buyText1').innerHTML = '非常不想購買';
        document.querySelector('.buyText2').innerHTML = '非常想購買';
        var mainPicture = document.querySelector('.pictureArea');
        if (questionsCount <= questionsNum) {
            mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？</div>  <div class="productPic"><img src="pic_only/computer/' + questionsCount + '.png" alt=""></div>  </div>';
        }
        else {
            window.location.href = "thanks.html"
        }
    }



































    // function say1_2() {
    //     btn2Count++;
    //     questionsCount++;
    //     var ask = '非推薦題'
    //     if ((questionsCount - 2) >= 0) {
    //         ask = recommendList[questionsCount - 2] + '.png'
    //     }
    //     localStorage.setItem('iPng' + String(questionsCount), ask);
    //     localStorage.setItem('iAns' + String(questionsCount), '2');
    //     document.querySelector('.textTitle').innerHTML = '<div class="recommendImg2"><img src="pictures/i.png" class="recommenderPic" alt=""></div>我依據您的喜好，我推薦給您以下商品';
    //     document.querySelector('.buyText1').innerHTML = '非常不想購買';
    //     document.querySelector('.buyText2').innerHTML = '非常想購買';
    //     var mainPicture = document.querySelector('.pictureArea');
    //     if (questionsCount <= questionsNum) {
    //         mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？</div>  <div class="productPic"><img src="1.png" alt=""></div>  </div>';
    //     }
    //     else {
    //         window.location.href = "introduction_ai.html"
    //     }
    // }
    // function say1_3() {
    //     btn3Count++;
    //     questionsCount++;
    //     var ask = '非推薦題'
    //     if ((questionsCount - 2) >= 0) {
    //         ask = recommendList[questionsCount - 2] + '.png'
    //     }
    //     localStorage.setItem('iPng' + String(questionsCount), ask);
    //     localStorage.setItem('iAns' + String(questionsCount), '3');
    //     document.querySelector('.textTitle').innerHTML = '<div class="recommendImg2"><img src="pictures/i.png" class="recommenderPic" alt=""></div>我依據您的喜好，我推薦給您以下商品';
    //     document.querySelector('.buyText1').innerHTML = '非常不想購買';
    //     document.querySelector('.buyText2').innerHTML = '非常想購買';
    //     var mainPicture = document.querySelector('.pictureArea');
    //     if (questionsCount <= questionsNum) {
    //         mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？</div>  <div class="productPic"><img src="1.png" alt=""></div>  </div>';
    //     }
    //     else {
    //         window.location.href = "introduction_ai.html"
    //     }
    // }
    // function say1_4() {
    //     btn4Count++;
    //     questionsCount++;
    //     var ask = '非推薦題'
    //     if ((questionsCount - 2) >= 0) {
    //         ask = recommendList[questionsCount - 2] + '.png'
    //     }
    //     localStorage.setItem('iPng' + String(questionsCount), ask);
    //     localStorage.setItem('iAns' + String(questionsCount), '4');
    //     document.querySelector('.textTitle').innerHTML = '<div class="recommendImg2"><img src="pictures/i.png" class="recommenderPic" alt=""></div>我依據您的喜好，推薦給您以下商品';
    //     document.querySelector('.buyText1').innerHTML = '非常不想購買';
    //     document.querySelector('.buyText2').innerHTML = '非常想購買';
    //     var mainPicture = document.querySelector('.pictureArea');
    //     if (questionsCount <= questionsNum) {
    //         mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？</div>  <div class="productPic"><img src="1.png" alt=""></div>  </div>';
    //     }
    //     else {
    //         window.location.href = "introduction_ai.html"
    //     }
    // }
    // function say1_5() {
    //     btn5Count++;
    //     questionsCount++;
    //     var ask = '非推薦題'
    //     if ((questionsCount - 2) >= 0) {
    //         ask = recommendList[questionsCount - 2] + '.png'
    //     }
    //     localStorage.setItem('iPng' + String(questionsCount), ask);
    //     localStorage.setItem('iAns' + String(questionsCount), '5');
    //     document.querySelector('.textTitle').innerHTML = '<div class="recommendImg2"><img src="pictures/i.png" class="recommenderPic" alt=""></div>我依據您的喜好，推薦給您以下商品';
    //     document.querySelector('.buyText1').innerHTML = '非常不想購買';
    //     document.querySelector('.buyText2').innerHTML = '非常想購買';
    //     var mainPicture = document.querySelector('.pictureArea');
    //     if (questionsCount <= questionsNum) {
    //         mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？</div>  <div class="productPic"><img src="1.png" alt=""></div>  </div>';
    //     }
    //     else {
    //         window.location.href = "introduction_ai.html"
    //     }
    // }
    // function say1_6() {
    //     btn6Count++;
    //     questionsCount++;
    //     var ask = '非推薦題'
    //     if ((questionsCount - 2) >= 0) {
    //         ask = recommendList[questionsCount - 2] + '.png'
    //     }
    //     localStorage.setItem('iPng' + String(questionsCount), ask);
    //     localStorage.setItem('iAns' + String(questionsCount), '6');
    //     document.querySelector('.textTitle').innerHTML = '<div class="recommendImg2"><img src="pictures/i.png" class="recommenderPic" alt=""></div>我依據您的喜好，推薦給您以下商品：';
    //     document.querySelector('.buyText1').innerHTML = '非常不想購買';
    //     document.querySelector('.buyText2').innerHTML = '非常想購買';
    //     var mainPicture = document.querySelector('.pictureArea');
    //     if (questionsCount <= questionsNum) {
    //         mainPicture.innerHTML = '<div class="phone"><img src="pictures/i.png" alt="" class="icon"> <div class="iconTalk">小艾根據您的喜好，找到了這款商品，一定非常適合您。請問您有意願購買嗎？</div>  <div class="productPic"><img src="1.png" alt=""></div>  </div>';
    //     }
    //     else {

    //         window.location.href = "introduction_ai.html"
    //     }
    // }
</script>

</html>